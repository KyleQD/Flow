
> tourify-platform@0.1.0 start
> next start

   ▲ Next.js 15.2.4
   - Local:        http://localhost:3001
   - Network:      http://192.168.0.74:3001

 ✓ Starting...
 ✓ Ready in 707ms
Supabase URL: https://auqddrodjezjlypkzfpi.supabase.co
Supabase Anon Key: Set
[Supabase] Initializing client with URL: https://auqddrodjezjlypkzfpi.supabase.co
[Supabase] Anon key present: true
Supabase URL: https://auqddrodjezjlypkzfpi.supabase.co
Supabase Anon Key: Set
[Supabase] Initializing client with URL: https://auqddrodjezjlypkzfpi.supabase.co
[Supabase] Anon key present: true
Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at Object.f [as cookies] (.next/server/chunks/44999.js:1:17861)
    at O.getCookie (.next/server/chunks/61223.js:1:5519)
    at O.getItem (.next/server/chunks/61223.js:1:12307)
    at e0 (.next/server/chunks/86345.js:6:23985)
    at ak.__loadSession (.next/server/chunks/86345.js:6:49331)
    at ak._useSession (.next/server/chunks/86345.js:6:49068)
    at ak._emitInitialSession (.next/server/chunks/86345.js:6:56989)
    at <unknown> (.next/server/chunks/86345.js:6:56889)
    at <unknown> (.next/server/chunks/86345.js:6:48626)
 ⨯ unhandledRejection:  Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at Object.f [as cookies] (.next/server/chunks/44999.js:1:17861)
    at O.getCookie (.next/server/chunks/61223.js:1:5519)
    at O.getItem (.next/server/chunks/61223.js:1:12307)
    at e0 (.next/server/chunks/86345.js:6:23985)
    at ak.__loadSession (.next/server/chunks/86345.js:6:49331)
    at ak._useSession (.next/server/chunks/86345.js:6:49068)
    at ak._emitInitialSession (.next/server/chunks/86345.js:6:56989)
    at <unknown> (.next/server/chunks/86345.js:6:56889)
    at <unknown> (.next/server/chunks/86345.js:6:48626)
[Supabase] Initializing client with URL: https://auqddrodjezjlypkzfpi.supabase.co
[Supabase] Anon key present: true
[Middleware] Checking auth for path: /onboarding
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /onboarding
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /onboarding
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /onboarding
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /_next/webpack-hmr
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /_next/webpack-hmr
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: false, Root: false
[Main Middleware] Allowing access to: /_next/webpack-hmr
[Middleware] Checking auth for path: /login
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /login
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: true, Auth: true, Protected: false, Root: false
[Main Middleware] Allowing access to: /login
[Middleware] Checking auth for path: /forgot-password
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /forgot-password
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: true, Auth: false, Protected: false, Root: false
[Main Middleware] Allowing access to: /forgot-password
[Middleware] Checking auth for path: /dashboard
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /dashboard
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /api/feed/posts
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /api/feed/posts
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: false, Root: false
[Main Middleware] Allowing access to: /api/feed/posts
[Feed Posts API] GET request started
[API Auth] Starting authentication process
[API Auth] All cookies: [ ': 0 chars' ]
[API Auth] No sb-tourify-auth-token cookie found
[API Auth] No authenticated user found
[Feed Posts API] Using service client for public access
[Feed Posts API] Fetching posts with type: following limit: 20
[Middleware] Checking auth for path: /api/profile/current
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /api/profile/current
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: false, Root: false
[Main Middleware] Allowing access to: /api/profile/current
[Profile Current API] GET request started
[API Auth] Starting authentication process
[API Auth] All cookies: [ ': 0 chars' ]
[API Auth] No sb-tourify-auth-token cookie found
[API Auth] No authenticated user found
[Feed Posts API] Found posts: 20
[Middleware] Checking auth for path: /profile/feeliqid
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /profile/feeliqid
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /api/profile/current
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /api/profile/current
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: false, Root: false
[Main Middleware] Allowing access to: /api/profile/current
[Profile Current API] GET request started
[API Auth] Starting authentication process
[API Auth] All cookies: [ ': 0 chars' ]
[API Auth] No sb-tourify-auth-token cookie found
[API Auth] No authenticated user found
[Middleware] Checking auth for path: /artist
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/felix
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/felix
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/feed
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/feed
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/content
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/content
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/music
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/music
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/community
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/community
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/business
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/business
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/events
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/events
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/features
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/features
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/epk
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/epk
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/profile
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/profile
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /settings
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /settings
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/settings
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/settings
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /artist/messages
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: []
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /artist/messages
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /login
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: [ '__next_hmr_refresh_hash__: 48 chars' ]
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /login
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: true, Auth: true, Protected: false, Root: false
[Main Middleware] Allowing access to: /login
[Middleware] Checking auth for path: /dashboard
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: [ '__next_hmr_refresh_hash__: 48 chars' ]
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /dashboard
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /dashboard
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: [ '__next_hmr_refresh_hash__: 48 chars' ]
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /dashboard
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /dashboard
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: [ '__next_hmr_refresh_hash__: 48 chars' ]
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /dashboard
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
[Middleware] Checking auth for path: /onboarding
[Middleware] Found 0 auth-related cookies: []
[Middleware] Supabase auth error: Auth session missing!
[Middleware] Supabase method - User exists: false
[Middleware] Supabase method failed, trying manual cookie parsing...
[Middleware] All cookies: [ '__next_hmr_refresh_hash__: 48 chars' ]
[Middleware] No sb-tourify-auth-token cookie found
[Middleware] Final result - User exists: false
[Middleware] User ID: none
[Main Middleware] Processing: /onboarding
[Main Middleware] User authenticated: false
[Main Middleware] User ID: none
[Main Middleware] Route type - Public: false, Auth: false, Protected: true, Root: false
[Main Middleware] Server-side auth detection failed, but allowing access (temporary workaround)
[Main Middleware] Client-side auth should handle the actual protection
