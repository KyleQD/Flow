"use client"

import { useState, useEffect } from "react"
import { Bell, Box, Building, Calendar, Clock, FileText, MapPin, MessageSquare, Plane, Truck, Users, Utensils, Plus, Edit, Trash2, AlertCircle, Loader2, Zap, Guitar, Mic, Piano, Drum, CheckCircle, UserPlus, CreditCard } from "lucide-react"
import { Header } from "@/components/header"
import { PageHeader } from "@/components/page-header"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { Badge } from "@/components/ui/badge"
import { Progress } from "@/components/ui/progress"
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar"
import { Button } from "@/components/ui/button"
import { useLogistics, useTransportation, useEquipment, useLogisticsAnalytics } from "@/hooks/use-logistics"
import { useRentals, useRentalAgreements, useRentalAnalytics, useEquipmentUtilization } from "@/hooks/use-rentals"
import { useLodging, useLodgingBookings, useLodgingAnalytics, useLodgingUtilization } from "@/hooks/use-lodging"
import { LodgingManagement } from "@/components/admin/lodging-management"
import { TeamCoordination } from "@/components/admin/team-coordination"
import { useToast } from "@/hooks/use-toast"

export default function LogisticsPage() {
  const { toast } = useToast()
  const [selectedEvent, setSelectedEvent] = useState<string | null>(null)
  const [selectedTour, setSelectedTour] = useState<string | null>(null)

  // Fetch logistics data
  const { data: logisticsData, loading: logisticsLoading, error: logisticsError, refetch: refetchLogistics } = useLogistics({
    eventId: selectedEvent || undefined,
    tourId: selectedTour || undefined,
    autoRefresh: true,
    refreshInterval: 30000
  })

  // Fetch specialized data for different tabs
  const { data: transportationData, loading: transportationLoading } = useTransportation({
    eventId: selectedEvent || undefined,
    tourId: selectedTour || undefined
  })

  const { data: equipmentData, loading: equipmentLoading } = useEquipment({
    eventId: selectedEvent || undefined,
    tourId: selectedTour || undefined
  })

  const { data: analyticsData, loading: analyticsLoading } = useLogisticsAnalytics({
    eventId: selectedEvent || undefined,
    tourId: selectedTour || undefined
  })

  // Fetch rental data
  const { agreements: rentalAgreements, loading: rentalsLoading } = useRentalAgreements({
    status: 'active',
    limit: 10
  })

  const { analytics: rentalAnalytics, loading: rentalAnalyticsLoading } = useRentalAnalytics()

  const { utilization: equipmentUtilization, loading: utilizationLoading } = useEquipmentUtilization()

  // Fetch lodging data
  const { bookings: lodgingBookings, loading: lodgingBookingsLoading } = useLodgingBookings()

  const { analytics: lodgingAnalytics, loading: lodgingAnalyticsLoading } = useLodgingAnalytics()

  const { utilization: lodgingUtilization, loading: lodgingUtilizationLoading } = useLodgingUtilization()

  // Calculate status metrics
  const calculateStatusMetrics = () => {
    if (!logisticsData) return {
      transportation: { percentage: 0, items: 0, completed: 0, status: 'Not Started' },
      equipment: { percentage: 0, items: 0, completed: 0, status: 'Not Started' },
      backline: { percentage: 0, items: 0, completed: 0, status: 'Not Started' },
      rentals: { percentage: 0, items: 0, completed: 0, status: 'No Rentals', revenue: 0 },
      lodging: { percentage: 0, items: 0, completed: 0, status: 'No Bookings', revenue: 0 },
      accommodations: { percentage: 0, items: 0, completed: 0, status: 'Not Started' },
      catering: { percentage: 0, items: 0, completed: 0, status: 'Not Started' },
      communication: { percentage: 0, items: 0, completed: 0, status: 'Not Started' }
    }

    const transportation = logisticsData.transportation
    const equipment = logisticsData.equipment
    const assignments = logisticsData.assignments

    // Transportation metrics
    const transportTotal = transportation.length
    const transportCompleted = transportation.filter(t => t.status === 'completed').length
    const transportPercentage = transportTotal > 0 ? Math.round((transportCompleted / transportTotal) * 100) : 0
    const transportStatus = transportPercentage === 100 ? 'Completed' : transportPercentage > 50 ? 'In Progress' : 'Not Started'

    // Equipment metrics
    const equipTotal = equipment.length
    const equipAssigned = assignments.length
    const equipPercentage = equipTotal > 0 ? Math.round((equipAssigned / equipTotal) * 100) : 0
    const equipStatus = equipPercentage === 100 ? 'Completed' : equipPercentage > 50 ? 'In Progress' : 'Not Started'

    // Backline metrics (filter equipment by backline category)
    const backlineEquipment = equipment.filter(e => e.category === 'backline' || e.category === 'instruments')
    const backlineTotal = backlineEquipment.length
    const backlineAssigned = assignments.filter(a => backlineEquipment.some(e => e.id === a.equipment_id)).length
    const backlinePercentage = backlineTotal > 0 ? Math.round((backlineAssigned / backlineTotal) * 100) : 0
    const backlineStatus = backlinePercentage === 100 ? 'Completed' : backlinePercentage > 50 ? 'In Progress' : 'Not Started'

    // Rental metrics from real data
    const activeRentals = rentalAgreements?.length || 0
    const totalRentalRevenue = rentalAnalytics?.[0]?.total_revenue || 0
    const rentalPercentage = activeRentals > 0 ? Math.min(100, Math.round((activeRentals / 10) * 100)) : 0 // Assuming 10 is max for 100%
    const rentalStatus = activeRentals > 0 ? 'Active' : 'No Rentals'

    // Lodging metrics from real data
    const activeLodgingBookings = lodgingBookings?.filter(b => b.status === 'confirmed' || b.status === 'checked_in').length || 0
    const totalLodgingRevenue = lodgingAnalytics?.[0]?.total_revenue || 0
    const lodgingPercentage = activeLodgingBookings > 0 ? Math.min(100, Math.round((activeLodgingBookings / 20) * 100)) : 0 // Assuming 20 is max for 100%
    const lodgingStatus = activeLodgingBookings > 0 ? 'Active' : 'No Bookings'

    return {
      transportation: { percentage: transportPercentage, items: transportTotal, completed: transportCompleted, status: transportStatus },
      equipment: { percentage: equipPercentage, items: equipTotal, completed: equipAssigned, status: equipStatus },
      backline: { percentage: backlinePercentage, items: backlineTotal, completed: backlineAssigned, status: backlineStatus },
      rentals: { percentage: rentalPercentage, items: activeRentals, completed: activeRentals, status: rentalStatus, revenue: totalRentalRevenue },
      lodging: { percentage: lodgingPercentage, items: activeLodgingBookings, completed: activeLodgingBookings, status: lodgingStatus, revenue: totalLodgingRevenue },
      accommodations: { percentage: 90, items: 12, completed: 11, status: 'Confirmed' }, // Mock data for now
      catering: { percentage: 10, items: 5, completed: 0, status: 'Not Started' }, // Mock data for now
      communication: { percentage: 75, items: 16, completed: 12, status: 'Active' } // Mock data for now
    }
  }

  const metrics = calculateStatusMetrics()

  // Handle errors
  useEffect(() => {
    if (logisticsError) {
      toast({
        title: "Error",
        description: logisticsError,
        variant: "destructive"
      })
    }
  }, [logisticsError, toast])

  return (
    <div className="container mx-auto p-4">
      <Header />
      <PageHeader
        title="Logistics Management"
        icon={Truck}
        description="Coordinate transportation, equipment, and venue logistics for all events"
      />

      <Tabs defaultValue="overview" className="w-full">
        <TabsList className="bg-slate-800/50 p-1 mb-6">
          <TabsTrigger
            value="overview"
            className="data-[state=active]:bg-slate-700 data-[state=active]:text-purple-400"
          >
            Overview
          </TabsTrigger>
          <TabsTrigger
            value="transportation"
            className="data-[state=active]:bg-slate-700 data-[state=active]:text-purple-400"
          >
            Transportation
          </TabsTrigger>
          <TabsTrigger
            value="accommodations"
            className="data-[state=active]:bg-slate-700 data-[state=active]:text-purple-400"
          >
            Hotels & Flights
          </TabsTrigger>
          <TabsTrigger
            value="equipment"
            className="data-[state=active]:bg-slate-700 data-[state=active]:text-purple-400"
          >
            Equipment
          </TabsTrigger>
          <TabsTrigger
            value="backline"
            className="data-[state=active]:bg-slate-700 data-[state=active]:text-purple-400"
          >
            Backline & Rentals
          </TabsTrigger>
          <TabsTrigger
            value="catering"
            className="data-[state=active]:bg-slate-700 data-[state=active]:text-purple-400"
          >
            Catering
          </TabsTrigger>
          <TabsTrigger
            value="communication"
            className="data-[state=active]:bg-slate-700 data-[state=active]:text-purple-400"
          >
            Communication
          </TabsTrigger>
        </TabsList>

        <TabsContent value="overview" className="mt-0">
          {logisticsLoading ? (
            <div className="flex items-center justify-center py-12">
              <Loader2 className="h-8 w-8 animate-spin text-purple-500" />
              <span className="ml-2 text-slate-400">Loading logistics data...</span>
            </div>
          ) : (
            <>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-6">
                <LogisticsStatusCard
                  title="Transportation"
                  icon={Truck}
                  status={metrics.transportation.status}
                  percentage={metrics.transportation.percentage}
                  items={metrics.transportation.items}
                  completed={metrics.transportation.completed}
                />
                <LogisticsStatusCard
                  title="Accommodations"
                  icon={Building}
                  status={metrics.accommodations.status}
                  percentage={metrics.accommodations.percentage}
                  items={metrics.accommodations.items}
                  completed={metrics.accommodations.completed}
                />
                <LogisticsStatusCard
                  title="Equipment"
                  icon={Box}
                  status={metrics.equipment.status}
                  percentage={metrics.equipment.percentage}
                  items={metrics.equipment.items}
                  completed={metrics.equipment.completed}
                />
                <LogisticsStatusCard
                  title="Backline"
                  icon={Zap}
                  status={metrics.backline.status}
                  percentage={metrics.backline.percentage}
                  items={metrics.backline.items}
                  completed={metrics.backline.completed}
                />
                <LogisticsStatusCard
                  title="Rentals"
                  icon={Zap}
                  status={metrics.rentals.status}
                  percentage={metrics.rentals.percentage}
                  items={metrics.rentals.items}
                  completed={metrics.rentals.completed}
                />
                <LogisticsStatusCard
                  title="Lodging"
                  icon={Building}
                  status={metrics.lodging.status}
                  percentage={metrics.lodging.percentage}
                  items={metrics.lodging.items}
                  completed={metrics.lodging.completed}
                />
                <LogisticsStatusCard
                  title="Catering"
                  icon={Utensils}
                  status={metrics.catering.status}
                  percentage={metrics.catering.percentage}
                  items={metrics.catering.items}
                  completed={metrics.catering.completed}
                />
                <LogisticsStatusCard
                  title="Communication"
                  icon={MessageSquare}
                  status={metrics.communication.status}
                  percentage={metrics.communication.percentage}
                  items={metrics.communication.items}
                  completed={metrics.communication.completed}
                />
              </div>
            </>
          )}

          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm mb-6">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center text-base">
                <Calendar className="mr-2 h-5 w-5 text-purple-500" />
                Logistics Timeline
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="relative pl-8 pb-1">
                <div className="absolute top-0 bottom-0 left-3.5 w-px bg-slate-700"></div>

                <TimelineItem
                  date="Aug 13, 08:00 AM"
                  title="Equipment Delivery"
                  description="Main stage equipment delivery from SoundMasters Pro"
                  status="scheduled"
                  daysAway={20}
                />

                <TimelineItem
                  date="Aug 13, 10:00 AM"
                  title="VIP Area Setup"
                  description="VIP lounge and backstage area setup by EventSpace Designs"
                  status="scheduled"
                  daysAway={20}
                />

                <TimelineItem
                  date="Aug 14, 09:00 AM"
                  title="Artist Transportation"
                  description="Airport pickup for headline performers"
                  status="scheduled"
                  daysAway={21}
                />

                <TimelineItem
                  date="Aug 14, 02:00 PM"
                  title="Sound Check"
                  description="Technical rehearsal and sound check for all performers"
                  status="scheduled"
                  daysAway={21}
                />

                <TimelineItem
                  date="Aug 15, 06:00 AM"
                  title="Food & Beverage Delivery"
                  description="Catering setup and food delivery from Gourmet Caterers"
                  status="scheduled"
                  daysAway={22}
                />

                <TimelineItem
                  date="Aug 17, 10:00 PM"
                  title="Equipment Breakdown"
                  description="Dismantling and removal of all stage equipment"
                  status="scheduled"
                  daysAway={24}
                />
              </div>
            </CardContent>
          </Card>

          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center text-base">
                <Users className="mr-2 h-5 w-5 text-purple-500" />
                Logistics Team
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <TeamMemberCard
                  name="Jessica Lee"
                  role="Transportation Manager"
                  email="jessica@tourify.com"
                  phone="(555) 123-4567"
                />

                <TeamMemberCard
                  name="David Wilson"
                  role="Equipment Coordinator"
                  email="david@tourify.com"
                  phone="(555) 234-5678"
                />

                <TeamMemberCard
                  name="Amanda Garcia"
                  role="Catering Manager"
                  email="amanda@tourify.com"
                  phone="(555) 345-6789"
                />

                <TeamMemberCard
                  name="Robert Taylor"
                  role="Security Coordinator"
                  email="robert@tourify.com"
                  phone="(555) 456-7890"
                />

                <TeamMemberCard
                  name="Michael Chen"
                  role="Venue Liaison"
                  email="michael@tourify.com"
                  phone="(555) 567-8901"
                />
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        <TabsContent value="transportation" className="mt-0">
          {transportationLoading ? (
            <div className="flex items-center justify-center py-12">
              <Loader2 className="h-8 w-8 animate-spin text-purple-500" />
              <span className="ml-2 text-slate-400">Loading transportation data...</span>
            </div>
          ) : (
            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm mb-6">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                  <div className="flex items-center">
                    <Truck className="mr-2 h-5 w-5 text-purple-500" />
                    Transportation Schedule
                  </div>
                  <Button size="sm" className="bg-purple-600 hover:bg-purple-700">
                    <Plus className="h-4 w-4 mr-2" />
                    Add Transportation
                  </Button>
                </CardTitle>
              </CardHeader>
              <CardContent>
                {transportationData?.transportation && transportationData.transportation.length > 0 ? (
                  <div className="rounded-md border border-slate-700">
                    <div className="overflow-x-auto">
                      <table className="w-full text-sm">
                        <thead className="bg-slate-800/50">
                          <tr>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Date & Time
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Description
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Provider
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              From
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              To
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Status
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Actions
                            </th>
                          </tr>
                        </thead>
                        <tbody className="divide-y divide-slate-700/50 bg-slate-900/20">
                          {transportationData.transportation.map((transport) => (
                            <TransportationRow
                              key={transport.id}
                              dateTime={new Date(transport.departure_time).toLocaleString()}
                              description={`${transport.type} - ${transport.vehicle_details?.description || 'Transport'}`}
                              provider={transport.provider || 'TBD'}
                              from={transport.departure_location}
                              to={transport.arrival_location}
                              status={transport.status}
                            />
                          ))}
                        </tbody>
                      </table>
                    </div>
                  </div>
                ) : (
                  <div className="text-center py-8">
                    <Truck className="h-12 w-12 text-slate-500 mx-auto mb-4" />
                    <h3 className="text-lg font-medium text-slate-300 mb-2">No Transportation Scheduled</h3>
                    <p className="text-slate-400 mb-4">Get started by adding transportation arrangements for your event.</p>
                    <Button className="bg-purple-600 hover:bg-purple-700">
                      <Plus className="h-4 w-4 mr-2" />
                      Add First Transportation
                    </Button>
                  </div>
                )}
              </CardContent>
            </Card>
          )}

          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center text-base">
                <FileText className="mr-2 h-5 w-5 text-purple-500" />
                Transportation Providers
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <ProviderCard
                  name="Elite Transport Services"
                  type="VIP Transportation"
                  contact="John Driver"
                  phone="(555) 123-4567"
                  email="john@elitetransport.com"
                />

                <ProviderCard
                  name="Roadrunner Logistics"
                  type="Equipment Transport"
                  contact="Sarah Trucker"
                  phone="(555) 234-5678"
                  email="sarah@roadrunner.com"
                />

                <ProviderCard
                  name="City Shuttle Services"
                  type="Staff Transportation"
                  contact="Mike Shuttle"
                  phone="(555) 345-6789"
                  email="mike@cityshuttle.com"
                />

                <ProviderCard
                  name="Luxury Limos"
                  type="VIP Limousines"
                  contact="Lisa Luxury"
                  phone="(555) 456-7890"
                  email="lisa@luxurylimos.com"
                />
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        <TabsContent value="accommodations" className="mt-0">
          <div className="space-y-6">
            {/* Header with Quick Actions */}
            <div className="flex items-center justify-between">
              <div>
                <h3 className="text-lg font-semibold text-slate-100">Hotels & Flights Management</h3>
                <p className="text-sm text-slate-400">Coordinate accommodations and travel for your team</p>
              </div>
              <div className="flex items-center gap-2">
                <Button variant="outline" size="sm">
                  <Download className="h-4 w-4 mr-2" />
                  Export
                </Button>
                <Button variant="outline" size="sm">
                  <Calendar className="h-4 w-4 mr-2" />
                  Calendar View
                </Button>
                <Button size="sm">
                  <Plus className="h-4 w-4 mr-2" />
                  New Booking
                </Button>
              </div>
            </div>

            {/* Stats Overview */}
            <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
              <Card className="bg-slate-900/50 border-slate-700/50">
                <CardContent className="p-4">
                  <div className="flex items-center justify-between">
                    <div>
                      <p className="text-sm text-slate-400">Total Bookings</p>
                      <p className="text-2xl font-bold text-slate-100">
                        {lodgingBookings?.length || 0}
                      </p>
                    </div>
                    <Building className="h-8 w-8 text-purple-500" />
                  </div>
                </CardContent>
              </Card>
              <Card className="bg-slate-900/50 border-slate-700/50">
                <CardContent className="p-4">
                  <div className="flex items-center justify-between">
                    <div>
                      <p className="text-sm text-slate-400">Active Guests</p>
                      <p className="text-2xl font-bold text-slate-100">
                        {lodgingBookings?.reduce((sum, booking) => 
                          (booking.status === 'confirmed' || booking.status === 'checked_in') 
                            ? sum + booking.total_guests 
                            : sum, 0) || 0}
                      </p>
                    </div>
                    <Users className="h-8 w-8 text-blue-500" />
                  </div>
                </CardContent>
              </Card>
              <Card className="bg-slate-900/50 border-slate-700/50">
                <CardContent className="p-4">
                  <div className="flex items-center justify-between">
                    <div>
                      <p className="text-sm text-slate-400">Total Revenue</p>
                      <p className="text-2xl font-bold text-slate-100">
                        ${lodgingBookings?.reduce((sum, booking) => sum + booking.total_amount, 0).toLocaleString() || '0'}
                      </p>
                    </div>
                    <CreditCard className="h-8 w-8 text-green-500" />
                  </div>
                </CardContent>
              </Card>
              <Card className="bg-slate-900/50 border-slate-700/50">
                <CardContent className="p-4">
                  <div className="flex items-center justify-between">
                    <div>
                      <p className="text-sm text-slate-400">Pending</p>
                      <p className="text-2xl font-bold text-slate-100">
                        {lodgingBookings?.filter(b => b.status === 'pending').length || 0}
                      </p>
                    </div>
                    <Clock className="h-8 w-8 text-yellow-500" />
                  </div>
                </CardContent>
              </Card>
            </div>

            {/* Main Content Grid */}
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              {/* Hotel Accommodations */}
              <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
                <CardHeader className="pb-2">
                  <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                    <div className="flex items-center">
                      <Building className="mr-2 h-5 w-5 text-purple-500" />
                      Hotel Accommodations
                      {lodgingBookingsLoading && <Loader2 className="h-4 w-4 animate-spin ml-2" />}
                    </div>
                    <Button variant="ghost" size="sm">
                      <Plus className="h-4 w-4" />
                    </Button>
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <div className="space-y-4">
                    {lodgingBookingsLoading ? (
                      <div className="flex items-center justify-center py-8">
                        <Loader2 className="h-6 w-6 animate-spin" />
                      </div>
                    ) : lodgingBookings && lodgingBookings.length > 0 ? (
                      lodgingBookings.map((booking) => (
                        <AccommodationCard
                          key={booking.id}
                          hotel={booking.lodging_providers?.name || 'Unknown Hotel'}
                          checkIn={`${booking.check_in_date} ${booking.check_in_time || '3:00 PM'}`}
                          checkOut={`${booking.check_out_date} ${booking.check_out_time || '11:00 AM'}`}
                          rooms={booking.rooms_booked}
                          guests={booking.total_guests}
                          status={booking.status}
                          contact={booking.primary_guest_name}
                          phone={booking.primary_guest_phone || 'N/A'}
                        />
                      ))
                    ) : (
                      <div className="text-center py-8 text-muted-foreground">
                        <Building className="h-12 w-12 mx-auto mb-4 opacity-50" />
                        <p>No lodging bookings found</p>
                        <p className="text-sm">Create your first booking to get started</p>
                        <Button className="mt-4" size="sm">
                          <Plus className="h-4 w-4 mr-2" />
                          Add Booking
                        </Button>
                      </div>
                    )}
                  </div>
                </CardContent>
              </Card>

            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                  <div className="flex items-center">
                    <Plane className="mr-2 h-5 w-5 text-purple-500" />
                    Flight Bookings
                  </div>
                  <Button variant="ghost" size="sm">
                    <Plus className="h-4 w-4" />
                  </Button>
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-4">
                  <FlightCard
                    flight="AA 1234"
                    departure="LAX â†’ JFK"
                    date="Aug 14, 8:00 AM"
                    passengers={4}
                    status="confirmed"
                    airline="American Airlines"
                  />
                  <FlightCard
                    flight="DL 5678"
                    departure="SFO â†’ JFK"
                    date="Aug 14, 10:30 AM"
                    passengers={3}
                    status="confirmed"
                    airline="Delta Airlines"
                  />
                  <FlightCard
                    flight="UA 9012"
                    departure="ORD â†’ JFK"
                    date="Aug 14, 11:45 AM"
                    passengers={2}
                    status="pending"
                    airline="United Airlines"
                  />
                  <FlightCard
                    flight="JFK â†’ LAX"
                    departure="Return Flight"
                    date="Aug 17, 6:00 PM"
                    passengers={9}
                    status="confirmed"
                    airline="American Airlines"
                  />
                </div>
              </CardContent>
            </Card>
          </div>

          {/* Team Coordination Section */}
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
            {/* Guest Assignments */}
            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                  <div className="flex items-center">
                    <Users className="mr-2 h-5 w-5 text-blue-500" />
                    Guest Assignments
                  </div>
                  <Button variant="ghost" size="sm">
                    <UserPlus className="h-4 w-4" />
                  </Button>
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-3">
                  {lodgingBookings && lodgingBookings.length > 0 ? (
                    lodgingBookings.slice(0, 3).map((booking) => (
                      <div key={booking.id} className="flex items-center justify-between p-3 bg-slate-800/50 rounded-lg">
                        <div className="flex items-center gap-3">
                          <Avatar className="h-8 w-8">
                            <AvatarFallback className="bg-purple-500 text-white text-xs">
                              {booking.primary_guest_name.split(' ').map(n => n[0]).join('')}
                            </AvatarFallback>
                          </Avatar>
                          <div>
                            <p className="text-sm font-medium text-slate-100">{booking.primary_guest_name}</p>
                            <p className="text-xs text-slate-400">{booking.lodging_providers?.name}</p>
                          </div>
                        </div>
                        <Badge variant="outline" className="text-xs">
                          {booking.total_guests} guests
                        </Badge>
                      </div>
                    ))
                  ) : (
                    <div className="text-center py-6 text-muted-foreground">
                      <Users className="h-8 w-8 mx-auto mb-2 opacity-50" />
                      <p className="text-sm">No guest assignments</p>
                    </div>
                  )}
                  {lodgingBookings && lodgingBookings.length > 3 && (
                    <Button variant="ghost" size="sm" className="w-full text-blue-400">
                      View All ({lodgingBookings.length} total)
                    </Button>
                  )}
                </div>
              </CardContent>
            </Card>

            {/* Travel Documents */}
            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                  <div className="flex items-center">
                    <FileText className="mr-2 h-5 w-5 text-green-500" />
                    Travel Documents
                  </div>
                  <Button variant="ghost" size="sm">
                    <Plus className="h-4 w-4" />
                  </Button>
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-3">
                  <DocumentCard
                    title="Passport Requirements"
                    status="Required"
                    description="All international travelers"
                    icon="ðŸ“‹"
                  />
                  <DocumentCard
                    title="Visa Applications"
                    status="Pending"
                    description="3 team members"
                    icon="ðŸ›‚"
                  />
                  <DocumentCard
                    title="Travel Insurance"
                    status="Confirmed"
                    description="Group policy active"
                    icon="ðŸ›¡ï¸"
                  />
                  <DocumentCard
                    title="COVID-19 Tests"
                    status="Required"
                    description="Pre-travel testing"
                    icon="ðŸ§ª"
                  />
                </div>
              </CardContent>
            </Card>

            {/* Quick Actions */}
            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center text-base">
                  <Zap className="mr-2 h-5 w-5 text-yellow-500" />
                  Quick Actions
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-3">
                  <QuickActionButton
                    title="Send Travel Itinerary"
                    description="Email team with details"
                    icon="ðŸ“§"
                  />
                  <QuickActionButton
                    title="Check-in Reminders"
                    description="Set up notifications"
                    icon="â°"
                  />
                  <QuickActionButton
                    title="Update Team Status"
                    description="Mark arrivals/departures"
                    icon="âœ…"
                  />
                  <QuickActionButton
                    title="Emergency Contacts"
                    description="View contact list"
                    icon="ðŸ“ž"
                  />
                </div>
              </CardContent>
            </Card>
          </div>

          {/* Advanced Team Coordination */}
          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                <div className="flex items-center">
                  <Users className="mr-2 h-5 w-5 text-purple-500" />
                  Team Coordination Hub
                </div>
                <Button variant="outline" size="sm">
                  <MessageSquare className="h-4 w-4 mr-2" />
                  Send Update
                </Button>
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                {/* Team Status Overview */}
                <div className="space-y-3">
                  <h4 className="font-medium text-slate-200 text-sm">Team Status</h4>
                  <div className="space-y-2">
                    <div className="flex items-center justify-between text-sm">
                      <span className="text-slate-400">Confirmed</span>
                      <Badge variant="outline" className="bg-green-500/20 text-green-500 border-green-500/20">
                        8 members
                      </Badge>
                    </div>
                    <div className="flex items-center justify-between text-sm">
                      <span className="text-slate-400">Pending</span>
                      <Badge variant="outline" className="bg-yellow-500/20 text-yellow-500 border-yellow-500/20">
                        3 members
                      </Badge>
                    </div>
                    <div className="flex items-center justify-between text-sm">
                      <span className="text-slate-400">Arrived</span>
                      <Badge variant="outline" className="bg-blue-500/20 text-blue-500 border-blue-500/20">
                        5 members
                      </Badge>
                    </div>
                  </div>
                </div>

                {/* Quick Actions */}
                <div className="space-y-3">
                  <h4 className="font-medium text-slate-200 text-sm">Quick Actions</h4>
                  <div className="space-y-2">
                    <Button variant="ghost" size="sm" className="w-full justify-start text-sm">
                      <MessageSquare className="h-4 w-4 mr-2" />
                      Send Itinerary
                    </Button>
                    <Button variant="ghost" size="sm" className="w-full justify-start text-sm">
                      <Bell className="h-4 w-4 mr-2" />
                      Check-in Reminders
                    </Button>
                    <Button variant="ghost" size="sm" className="w-full justify-start text-sm">
                      <Calendar className="h-4 w-4 mr-2" />
                      Update Status
                    </Button>
                  </div>
                </div>

                {/* Emergency Contacts */}
                <div className="space-y-3">
                  <h4 className="font-medium text-slate-200 text-sm">Emergency Contacts</h4>
                  <div className="space-y-2 text-sm">
                    <div className="p-2 bg-slate-800/50 rounded">
                      <p className="font-medium text-slate-100">Tour Manager</p>
                      <p className="text-slate-400">(555) 123-4567</p>
                    </div>
                    <div className="p-2 bg-slate-800/50 rounded">
                      <p className="font-medium text-slate-100">Venue Contact</p>
                      <p className="text-slate-400">(555) 234-5678</p>
                    </div>
                    <div className="p-2 bg-slate-800/50 rounded">
                      <p className="font-medium text-slate-100">Transportation</p>
                      <p className="text-slate-400">(555) 345-6789</p>
                    </div>
                  </div>
                </div>

                {/* Recent Communications */}
                <div className="space-y-3">
                  <h4 className="font-medium text-slate-200 text-sm">Recent Updates</h4>
                  <div className="space-y-2 text-sm">
                    <div className="p-2 bg-slate-800/50 rounded">
                      <p className="text-slate-100">Check-in reminder sent</p>
                      <p className="text-slate-400 text-xs">2 hours ago</p>
                    </div>
                    <div className="p-2 bg-slate-800/50 rounded">
                      <p className="text-slate-100">Sarah Johnson arrived</p>
                      <p className="text-slate-400 text-xs">4 hours ago</p>
                    </div>
                    <div className="p-2 bg-slate-800/50 rounded">
                      <p className="text-slate-100">Flight AA1234 confirmed</p>
                      <p className="text-slate-400 text-xs">6 hours ago</p>
                    </div>
                  </div>
                </div>
              </div>
            </CardContent>
          </Card>

          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center text-base">
                <FileText className="mr-2 h-5 w-5 text-purple-500" />
                Travel Documents & Requirements
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <DocumentCard
                  title="Visa Requirements"
                  status="Completed"
                  description="All international artists have valid visas"
                  icon="visa"
                />
                <DocumentCard
                  title="Insurance Coverage"
                  status="Active"
                  description="Travel and equipment insurance confirmed"
                  icon="insurance"
                />
                <DocumentCard
                  title="COVID Protocols"
                  status="Updated"
                  description="Latest health and safety guidelines"
                  icon="health"
                />
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        <TabsContent value="equipment" className="mt-0">
          {equipmentLoading ? (
            <div className="flex items-center justify-center py-12">
              <Loader2 className="h-8 w-8 animate-spin text-purple-500" />
              <span className="ml-2 text-slate-400">Loading equipment data...</span>
            </div>
          ) : (
            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm mb-6">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                  <div className="flex items-center">
                    <Box className="mr-2 h-5 w-5 text-purple-500" />
                    Equipment Inventory
                  </div>
                  <Button size="sm" className="bg-purple-600 hover:bg-purple-700">
                    <Plus className="h-4 w-4 mr-2" />
                    Add Equipment
                  </Button>
                </CardTitle>
              </CardHeader>
              <CardContent>
                {equipmentData?.equipment && equipmentData.equipment.length > 0 ? (
                  <div className="rounded-md border border-slate-700">
                    <div className="overflow-x-auto">
                      <table className="w-full text-sm">
                        <thead className="bg-slate-800/50">
                          <tr>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Item
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Category
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Condition
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Location
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Status
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                              Actions
                            </th>
                          </tr>
                        </thead>
                        <tbody className="divide-y divide-slate-700/50 bg-slate-900/20">
                          {equipmentData.equipment.map((equipment) => (
                            <EquipmentRow
                              key={equipment.id}
                              item={equipment.name}
                              category={equipment.category}
                              condition={equipment.condition}
                              location={equipment.location || 'TBD'}
                              status={equipment.is_available ? 'available' : 'in_use'}
                            />
                          ))}
                        </tbody>
                      </table>
                    </div>
                  </div>
                ) : (
                  <div className="text-center py-8">
                    <Box className="h-12 w-12 text-slate-500 mx-auto mb-4" />
                    <h3 className="text-lg font-medium text-slate-300 mb-2">No Equipment Available</h3>
                    <p className="text-slate-400 mb-4">Get started by adding equipment to your inventory.</p>
                    <Button className="bg-purple-600 hover:bg-purple-700">
                      <Plus className="h-4 w-4 mr-2" />
                      Add First Equipment
                    </Button>
                  </div>
                )}
              </CardContent>
            </Card>
          )}
        </TabsContent>

        <TabsContent value="backline" className="mt-0">
          {(equipmentLoading || utilizationLoading) ? (
            <div className="flex items-center justify-center py-12">
              <Loader2 className="h-8 w-8 animate-spin text-purple-500" />
              <span className="ml-2 text-slate-400">Loading backline data...</span>
            </div>
          ) : (
            <>
              {/* Backline Inventory */}
              <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm mb-6">
                <CardHeader className="pb-2">
                  <CardTitle className="text-slate-100 flex items-center justify-between text-base">
                    <div className="flex items-center">
                      <Zap className="mr-2 h-5 w-5 text-purple-500" />
                      Backline Inventory
                    </div>
                    <Button size="sm" className="bg-purple-600 hover:bg-purple-700">
                      <Plus className="h-4 w-4 mr-2" />
                      Add Backline
                    </Button>
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  {equipmentUtilization && equipmentUtilization.length > 0 ? (
                    <div className="rounded-md border border-slate-700">
                      <div className="overflow-x-auto">
                        <table className="w-full text-sm">
                          <thead className="bg-slate-800/50">
                            <tr>
                              <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                                Instrument
                              </th>
                              <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                                Category
                              </th>
                              <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                                Condition
                              </th>
                              <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                                Rental Rate
                              </th>
                              <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                                Status
                              </th>
                              <th className="px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">
                                Actions
                              </th>
                            </tr>
                          </thead>
                          <tbody className="divide-y divide-slate-700/50 bg-slate-900/20">
                            {equipmentUtilization.slice(0, 10).map((item) => (
                              <BacklineRow
                                key={item.id}
                                instrument={item.name}
                                category={item.category}
                                condition="Good"
                                rentalRate={item.rental_rate}
                                status={item.current_status.toLowerCase()}
                              />
                            ))}
                          </tbody>
                        </table>
                      </div>
                    </div>
                  ) : (
                    <div className="text-center py-8">
                      <Zap className="h-12 w-12 text-slate-500 mx-auto mb-4" />
                      <h3 className="text-lg font-medium text-slate-300 mb-2">No Backline Available</h3>
                      <p className="text-slate-400 mb-4">Get started by adding backline equipment to your inventory.</p>
                      <Button className="bg-purple-600 hover:bg-purple-700">
                        <Plus className="h-4 w-4 mr-2" />
                        Add First Backline
                      </Button>
                    </div>
                  )}
                </CardContent>
              </Card>

              {/* Active Rentals */}
              <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm mb-6">
                <CardHeader className="pb-2">
                  <CardTitle className="text-slate-100 flex items-center text-base">
                    <Calendar className="mr-2 h-5 w-5 text-purple-500" />
                    Active Rentals
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  {rentalsLoading ? (
                    <div className="flex items-center justify-center py-8">
                      <Loader2 className="h-6 w-6 animate-spin text-purple-500" />
                      <span className="ml-2 text-slate-400">Loading rental data...</span>
                    </div>
                  ) : (
                    <div className="space-y-4">
                      {rentalAgreements?.map((agreement) => (
                        <RentalCard
                          key={agreement.id}
                          instrument={agreement.rental_agreement_items?.[0]?.equipment?.name || 'Equipment'}
                          client={agreement.rental_clients?.name || 'Unknown Client'}
                          startDate={agreement.start_date}
                          endDate={agreement.end_date}
                          dailyRate={agreement.rental_agreement_items?.[0]?.daily_rate || 0}
                          totalAmount={agreement.total_amount}
                          status={agreement.status === 'active' ? 'active' : agreement.status === 'confirmed' ? 'upcoming' : 'completed'}
                        />
                      ))}
                      {(!rentalAgreements || rentalAgreements.length === 0) && (
                        <div className="text-center py-8 text-slate-500">
                          No active rentals found
                        </div>
                      )}
                    </div>
                  )}
                </CardContent>
              </Card>

              {/* Rental Analytics */}
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
                  <CardHeader className="pb-2">
                    <CardTitle className="text-slate-100 text-sm">Revenue This Month</CardTitle>
                  </CardHeader>
                  <CardContent>
                    <div className="text-2xl font-bold text-green-400">
                      ${rentalAnalytics?.[0]?.total_revenue?.toLocaleString() || '0'}
                    </div>
                    <p className="text-xs text-slate-400 mt-1">
                      {rentalAnalytics?.[0]?.total_rentals || 0} total rentals
                    </p>
                  </CardContent>
                </Card>
                <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
                  <CardHeader className="pb-2">
                    <CardTitle className="text-slate-100 text-sm">Active Rentals</CardTitle>
                  </CardHeader>
                  <CardContent>
                    <div className="text-2xl font-bold text-blue-400">
                      {rentalAnalytics?.[0]?.active_rentals || 0}
                    </div>
                    <p className="text-xs text-slate-400 mt-1">
                      {rentalAnalytics?.[0]?.overdue_rentals || 0} overdue
                    </p>
                  </CardContent>
                </Card>
                <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
                  <CardHeader className="pb-2">
                    <CardTitle className="text-slate-100 text-sm">Utilization Rate</CardTitle>
                  </CardHeader>
                  <CardContent>
                    <div className="text-2xl font-bold text-purple-400">
                      {equipmentUtilization?.length ? Math.round((equipmentUtilization.filter(e => e.current_status === 'Currently Rented').length / equipmentUtilization.length) * 100) : 0}%
                    </div>
                    <p className="text-xs text-slate-400 mt-1">
                      {equipmentUtilization?.filter(e => e.current_status === 'Available').length || 0} items available
                    </p>
                  </CardContent>
                </Card>
              </div>
            </>
          )}
        </TabsContent>

        <TabsContent value="catering" className="mt-0">
          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm mb-6">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center text-base">
                <Utensils className="mr-2 h-5 w-5 text-purple-500" />
                Catering Plan
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <CateringCard
                  title="Artist & Crew Meals"
                  provider="Gourmet Caterers"
                  servingTime="Aug 15, 12:00 PM - 10:00 PM"
                  location="Backstage Area"
                  meals={75}
                  specialRequests={8}
                />

                <CateringCard
                  title="VIP Reception"
                  provider="Elite Event Catering"
                  servingTime="Aug 15, 06:00 PM - 08:00 PM"
                  location="VIP Lounge"
                  meals={150}
                  specialRequests={15}
                />

                <CateringCard
                  title="Staff Meals"
                  provider="Gourmet Caterers"
                  servingTime="Aug 15, 11:00 AM - 11:00 PM"
                  location="Staff Area"
                  meals={50}
                  specialRequests={3}
                />

                <CateringCard
                  title="After Party"
                  provider="Nightlife Catering Co."
                  servingTime="Aug 15, 11:00 PM - 02:00 AM"
                  location="Luxury Hotel Rooftop"
                  meals={100}
                  specialRequests={10}
                />
              </div>

              <div className="bg-slate-800/50 rounded-lg p-4 border border-slate-700/50">
                <h3 className="text-sm font-medium text-slate-200 mb-3">Special Dietary Requirements</h3>
                <div className="space-y-2">
                  <div className="flex items-center justify-between text-sm">
                    <span className="text-slate-400">Vegetarian</span>
                    <span className="text-purple-400">24 meals</span>
                  </div>
                  <div className="flex items-center justify-between text-sm">
                    <span className="text-slate-400">Vegan</span>
                    <span className="text-purple-400">12 meals</span>
                  </div>
                  <div className="flex items-center justify-between text-sm">
                    <span className="text-slate-400">Gluten-Free</span>
                    <span className="text-purple-400">8 meals</span>
                  </div>
                  <div className="flex items-center justify-between text-sm">
                    <span className="text-slate-400">Nut Allergies</span>
                    <span className="text-purple-400">6 meals</span>
                  </div>
                  <div className="flex items-center justify-between text-sm">
                    <span className="text-slate-400">Dairy-Free</span>
                    <span className="text-purple-400">10 meals</span>
                  </div>
                </div>
              </div>
            </CardContent>
          </Card>

          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center text-base">
                <FileText className="mr-2 h-5 w-5 text-purple-500" />
                Catering Providers
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <ProviderCard
                  name="Gourmet Caterers"
                  type="Full-Service Catering"
                  contact="Chef Maria Rodriguez"
                  phone="(555) 789-0123"
                  email="maria@gourmetcaterers.com"
                />

                <ProviderCard
                  name="Elite Event Catering"
                  type="VIP & Premium Catering"
                  contact="Chef James Wilson"
                  phone="(555) 890-1234"
                  email="james@eliteeventcatering.com"
                />

                <ProviderCard
                  name="Nightlife Catering Co."
                  type="After-Hours Catering"
                  contact="Chef Daniel Black"
                  phone="(555) 901-2345"
                  email="daniel@nightlifecatering.com"
                />

                <ProviderCard
                  name="Fresh Bites Food Trucks"
                  type="Mobile Food Service"
                  contact="Lisa Green"
                  phone="(555) 012-3456"
                  email="lisa@freshbites.com"
                />
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        <TabsContent value="communication" className="mt-0">
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center text-base">
                  <MessageSquare className="mr-2 h-5 w-5 text-purple-500" />
                  Team Chat
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-3">
                  <ChatMessage
                    sender="Jessica Lee"
                    message="Transportation schedule updated for Aug 14"
                    time="2 min ago"
                    unread={true}
                  />
                  <ChatMessage
                    sender="David Wilson"
                    message="Equipment delivery confirmed for tomorrow"
                    time="15 min ago"
                    unread={false}
                  />
                  <ChatMessage
                    sender="Amanda Garcia"
                    message="Catering menu finalized - sending to all stakeholders"
                    time="1 hour ago"
                    unread={false}
                  />
                  <ChatMessage
                    sender="Robert Taylor"
                    message="Security briefing scheduled for Aug 13, 10 AM"
                    time="2 hours ago"
                    unread={false}
                  />
                </div>
                <div className="mt-4 pt-3 border-t border-slate-700/50">
                  <div className="flex space-x-2">
                    <input
                      type="text"
                      placeholder="Type a message..."
                      className="flex-1 bg-slate-800/50 border border-slate-700/50 rounded-md px-3 py-2 text-sm text-slate-300 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500"
                    />
                    <button className="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md text-sm">
                      Send
                    </button>
                  </div>
                </div>
              </CardContent>
            </Card>

            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center text-base">
                  <Bell className="mr-2 h-5 w-5 text-purple-500" />
                  Notifications
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-3">
                  <NotificationItem
                    title="Equipment Delivery"
                    message="SoundMasters Pro confirmed delivery for Aug 13"
                    time="5 min ago"
                    type="info"
                  />
                  <NotificationItem
                    title="Flight Update"
                    message="AA 1234 departure time changed to 9:30 AM"
                    time="1 hour ago"
                    type="warning"
                  />
                  <NotificationItem
                    title="Hotel Confirmation"
                    message="All hotel bookings confirmed and paid"
                    time="3 hours ago"
                    type="success"
                  />
                  <NotificationItem
                    title="Catering Issue"
                    message="Special dietary requirements need clarification"
                    time="5 hours ago"
                    type="error"
                  />
                </div>
              </CardContent>
            </Card>

            <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
              <CardHeader className="pb-2">
                <CardTitle className="text-slate-100 flex items-center text-base">
                  <FileText className="mr-2 h-5 w-5 text-purple-500" />
                  Quick Actions
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-3">
                  <QuickActionButton
                    title="Send Daily Update"
                    description="Email status to all stakeholders"
                    icon="email"
                  />
                  <QuickActionButton
                    title="Schedule Meeting"
                    description="Book logistics team meeting"
                    icon="calendar"
                  />
                  <QuickActionButton
                    title="Export Report"
                    description="Download logistics summary"
                    icon="download"
                  />
                  <QuickActionButton
                    title="Emergency Contact"
                    description="Call logistics emergency line"
                    icon="phone"
                  />
                </div>
              </CardContent>
            </Card>
          </div>

          <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
            <CardHeader className="pb-2">
              <CardTitle className="text-slate-100 flex items-center text-base">
                <Users className="mr-2 h-5 w-5 text-purple-500" />
                Contact Directory
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <ContactCard
                  name="Jessica Lee"
                  role="Transportation Manager"
                  phone="(555) 123-4567"
                  email="jessica@tourify.com"
                  emergency={true}
                />
                <ContactCard
                  name="David Wilson"
                  role="Equipment Coordinator"
                  phone="(555) 234-5678"
                  email="david@tourify.com"
                  emergency={false}
                />
                <ContactCard
                  name="Amanda Garcia"
                  role="Catering Manager"
                  phone="(555) 345-6789"
                  email="amanda@tourify.com"
                  emergency={false}
                />
                <ContactCard
                  name="Emergency Hotline"
                  role="24/7 Support"
                  phone="(555) 999-9999"
                  email="emergency@tourify.com"
                  emergency={true}
                />
              </div>
            </CardContent>
          </Card>
        </TabsContent>
      </Tabs>
    </div>
  )
}

interface LogisticsStatusCardProps {
  title: string
  icon: any
  status: string
  percentage: number
  items: number
  completed: number
}

function LogisticsStatusCard({ title, icon: Icon, status, percentage, items, completed }: LogisticsStatusCardProps) {
  const getStatusColor = () => {
    if (percentage === 100) return "bg-green-500/20 text-green-400 border-green-500/30"
    if (percentage > 50) return "bg-blue-500/20 text-blue-400 border-blue-500/30"
    if (percentage > 0) return "bg-amber-500/20 text-amber-400 border-amber-500/30"
    return "bg-slate-500/20 text-slate-400 border-slate-500/30"
  }

  return (
    <Card className="bg-slate-900/50 border-slate-700/50 backdrop-blur-sm">
      <CardContent className="pt-6">
        <div className="flex justify-between items-start mb-4">
          <div>
            <h3 className="text-lg font-medium text-white">{title}</h3>
            <Badge className={`mt-1 ${getStatusColor()}`}>{status}</Badge>
          </div>
          <div className="bg-purple-500/20 p-2 rounded-md">
            <Icon className="h-5 w-5 text-purple-500" />
          </div>
        </div>

        <div>
          <div className="flex items-center justify-between mb-1">
            <div className="text-xs text-slate-500">
              {completed} of {items} items completed
            </div>
            <div className="text-xs text-purple-400">{percentage}%</div>
          </div>
          <Progress value={percentage} className="h-1.5 bg-slate-700">
            <div
              className="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"
              style={{ width: `${percentage}%` }}
            />
          </Progress>
        </div>
      </CardContent>
    </Card>
  )
}

interface TimelineItemProps {
  date: string
  title: string
  description: string
  status: string
  daysAway?: number
}

function TimelineItem({ date, title, description, status, daysAway }: TimelineItemProps) {
  const getStatusColor = () => {
    switch (status) {
      case "completed":
        return "bg-green-500 text-green-500"
      case "in-progress":
        return "bg-blue-500 text-blue-500"
      case "scheduled":
        return "bg-purple-500 text-purple-500"
      case "delayed":
        return "bg-amber-500 text-amber-500"
      default:
        return "bg-slate-500 text-slate-500"
    }
  }

  return (
    <div className="mb-6 relative">
      <div
        className={`absolute -left-8 mt-1.5 h-4 w-4 rounded-full border-2 border-slate-900 ${getStatusColor()}`}
      ></div>
      <div className="flex flex-col sm:flex-row sm:items-start">
        <div className="mb-1 sm:mb-0 sm:mr-4 sm:w-32 text-xs text-slate-500">{date}</div>
        <div>
          <h4 className="text-sm font-medium text-slate-200">{title}</h4>
          <p className="text-xs text-slate-400 mt-1">{description}</p>
          {daysAway && (
            <Badge className="mt-2 bg-purple-500/10 text-purple-400 border-purple-500/20">{daysAway} days away</Badge>
          )}
        </div>
      </div>
    </div>
  )
}

interface TeamMemberCardProps {
  name: string
  role: string
  email: string
  phone: string
}

function TeamMemberCard({ name, role, email, phone }: TeamMemberCardProps) {
  return (
    <div className="bg-slate-800/50 rounded-md p-4 border border-slate-700/50 flex items-start space-x-3">
      <Avatar className="h-10 w-10">
        <AvatarImage src="/placeholder.svg?height=40&width=40" alt={name} />
        <AvatarFallback className="bg-slate-700 text-purple-500">{name.charAt(0)}</AvatarFallback>
      </Avatar>
      <div>
        <h4 className="text-sm font-medium text-slate-200">{name}</h4>
        <p className="text-xs text-purple-400">{role}</p>
        <p className="text-xs text-slate-400 mt-1">{email}</p>
        <p className="text-xs text-slate-400">{phone}</p>
      </div>
    </div>
  )
}

interface TransportationRowProps {
  dateTime: string
  description: string
  provider: string
  from: string
  to: string
  status: string
}

function TransportationRow({ dateTime, description, provider, from, to, status }: TransportationRowProps) {
  const getStatusBadge = () => {
    switch (status) {
      case "completed":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Completed</Badge>
      case "in-progress":
        return <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">In Progress</Badge>
      case "scheduled":
        return <Badge className="bg-purple-500/20 text-purple-400 border-purple-500/30">Scheduled</Badge>
      case "delayed":
        return <Badge className="bg-amber-500/20 text-amber-400 border-amber-500/30">Delayed</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{status}</Badge>
    }
  }

  return (
    <tr className="hover:bg-slate-800/30">
      <td className="px-4 py-3 text-slate-300">{dateTime}</td>
      <td className="px-4 py-3 text-slate-300">{description}</td>
      <td className="px-4 py-3 text-slate-300">{provider}</td>
      <td className="px-4 py-3 text-slate-300">{from}</td>
      <td className="px-4 py-3 text-slate-300">{to}</td>
      <td className="px-4 py-3">{getStatusBadge()}</td>
      <td className="px-4 py-3">
        <div className="flex space-x-2">
          <Button size="sm" variant="ghost" className="h-6 w-6 p-0">
            <Edit className="h-3 w-3" />
          </Button>
          <Button size="sm" variant="ghost" className="h-6 w-6 p-0 text-red-400 hover:text-red-300">
            <Trash2 className="h-3 w-3" />
          </Button>
        </div>
      </td>
    </tr>
  )
}

interface ProviderCardProps {
  name: string
  type: string
  contact: string
  phone: string
  email: string
}

function ProviderCard({ name, type, contact, phone, email }: ProviderCardProps) {
  return (
    <div className="bg-slate-800/50 rounded-md p-4 border border-slate-700/50">
      <h4 className="text-sm font-medium text-slate-200">{name}</h4>
      <Badge className="mt-1 bg-slate-700/50 text-slate-300 border-slate-600/50">{type}</Badge>
      <div className="mt-3 space-y-1">
        <p className="text-xs text-slate-400">
          Contact: <span className="text-slate-300">{contact}</span>
        </p>
        <p className="text-xs text-slate-400">
          Phone: <span className="text-slate-300">{phone}</span>
        </p>
        <p className="text-xs text-slate-400">
          Email: <span className="text-slate-300">{email}</span>
        </p>
      </div>
    </div>
  )
}

interface EquipmentRowProps {
  item: string
  category: string
  condition: string
  location: string
  status: string
}

function EquipmentRow({ item, category, condition, location, status }: EquipmentRowProps) {
  const getStatusBadge = () => {
    switch (status) {
      case "available":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Available</Badge>
      case "in_use":
        return <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">In Use</Badge>
      case "maintenance":
        return <Badge className="bg-amber-500/20 text-amber-400 border-amber-500/30">Maintenance</Badge>
      case "retired":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Retired</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{status}</Badge>
    }
  }

  const getConditionBadge = () => {
    switch (condition) {
      case "excellent":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Excellent</Badge>
      case "good":
        return <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">Good</Badge>
      case "fair":
        return <Badge className="bg-amber-500/20 text-amber-400 border-amber-500/30">Fair</Badge>
      case "poor":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Poor</Badge>
      case "damaged":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Damaged</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{condition}</Badge>
    }
  }

  return (
    <tr className="hover:bg-slate-800/30">
      <td className="px-4 py-3 text-slate-300">{item}</td>
      <td className="px-4 py-3 text-slate-300">{category}</td>
      <td className="px-4 py-3">{getConditionBadge()}</td>
      <td className="px-4 py-3 text-slate-300">{location}</td>
      <td className="px-4 py-3">{getStatusBadge()}</td>
      <td className="px-4 py-3">
        <div className="flex space-x-2">
          <Button size="sm" variant="ghost" className="h-6 w-6 p-0">
            <Edit className="h-3 w-3" />
          </Button>
          <Button size="sm" variant="ghost" className="h-6 w-6 p-0 text-red-400 hover:text-red-300">
            <Trash2 className="h-3 w-3" />
          </Button>
        </div>
      </td>
    </tr>
  )
}

interface CateringCardProps {
  title: string
  provider: string
  servingTime: string
  location: string
  meals: number
  specialRequests: number
}

function CateringCard({ title, provider, servingTime, location, meals, specialRequests }: CateringCardProps) {
  return (
    <div className="bg-slate-800/50 rounded-md p-4 border border-slate-700/50">
      <h4 className="text-sm font-medium text-slate-200">{title}</h4>
      <p className="text-xs text-purple-400">{provider}</p>

      <div className="mt-3 space-y-2">
        <div className="flex items-start">
          <Clock className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <p className="text-xs text-slate-300">{servingTime}</p>
        </div>
        <div className="flex items-start">
          <MapPin className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <p className="text-xs text-slate-300">{location}</p>
        </div>
        <div className="flex items-start">
          <Utensils className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <p className="text-xs text-slate-300">{meals} meals total</p>
        </div>
        <div className="flex items-start">
          <FileText className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <p className="text-xs text-slate-300">{specialRequests} special dietary requests</p>
        </div>
      </div>
    </div>
  )
}

// New component interfaces and implementations

interface AccommodationCardProps {
  hotel: string
  checkIn: string
  checkOut: string
  rooms: number
  guests: number
  status: string
  contact: string
  phone: string
}

function AccommodationCard({ hotel, checkIn, checkOut, rooms, guests, status, contact, phone }: AccommodationCardProps) {
  const getStatusBadge = () => {
    switch (status) {
      case "confirmed":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Confirmed</Badge>
      case "pending":
        return <Badge className="bg-amber-500/20 text-amber-400 border-amber-500/30">Pending</Badge>
      case "cancelled":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Cancelled</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{status}</Badge>
    }
  }

  return (
    <div className="bg-slate-800/50 rounded-md p-4 border border-slate-700/50">
      <div className="flex items-start justify-between mb-3">
        <h4 className="text-sm font-medium text-slate-200">{hotel}</h4>
        {getStatusBadge()}
      </div>
      
      <div className="space-y-2">
        <div className="flex items-start">
          <Calendar className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <div className="text-xs text-slate-300">
            <div>Check-in: {checkIn}</div>
            <div>Check-out: {checkOut}</div>
          </div>
        </div>
        <div className="flex items-start">
          <Users className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <div className="text-xs text-slate-300">
            <div>{rooms} rooms â€¢ {guests} guests</div>
          </div>
        </div>
        <div className="flex items-start">
          <FileText className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <div className="text-xs text-slate-300">
            <div>Contact: {contact}</div>
            <div>Phone: {phone}</div>
          </div>
        </div>
      </div>
    </div>
  )
}

interface FlightCardProps {
  flight: string
  departure: string
  date: string
  passengers: number
  status: string
  airline: string
}

function FlightCard({ flight, departure, date, passengers, status, airline }: FlightCardProps) {
  const getStatusBadge = () => {
    switch (status) {
      case "confirmed":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Confirmed</Badge>
      case "pending":
        return <Badge className="bg-amber-500/20 text-amber-400 border-amber-500/30">Pending</Badge>
      case "delayed":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Delayed</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{status}</Badge>
    }
  }

  return (
    <div className="bg-slate-800/50 rounded-md p-4 border border-slate-700/50">
      <div className="flex items-start justify-between mb-3">
        <h4 className="text-sm font-medium text-slate-200">{flight}</h4>
        {getStatusBadge()}
      </div>
      
      <div className="space-y-2">
        <div className="flex items-start">
          <Plane className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <div className="text-xs text-slate-300">{departure}</div>
        </div>
        <div className="flex items-start">
          <Calendar className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <div className="text-xs text-slate-300">{date}</div>
        </div>
        <div className="flex items-start">
          <Users className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <div className="text-xs text-slate-300">{passengers} passengers</div>
        </div>
        <div className="flex items-start">
          <FileText className="h-3.5 w-3.5 text-slate-500 mt-0.5 mr-2" />
          <div className="text-xs text-slate-300">{airline}</div>
        </div>
      </div>
    </div>
  )
}

interface DocumentCardProps {
  title: string
  status: string
  description: string
  icon: string
}

function DocumentCard({ title, status, description, icon }: DocumentCardProps) {
  const getStatusColor = () => {
    switch (status) {
      case "Completed":
        return "bg-green-500/20 text-green-400 border-green-500/30"
      case "Active":
        return "bg-blue-500/20 text-blue-400 border-blue-500/30"
      case "Updated":
        return "bg-purple-500/20 text-purple-400 border-purple-500/30"
      default:
        return "bg-slate-500/20 text-slate-400 border-slate-500/30"
    }
  }

  return (
    <div className="bg-slate-800/50 rounded-md p-4 border border-slate-700/50">
      <div className="flex items-start justify-between mb-2">
        <h4 className="text-sm font-medium text-slate-200">{title}</h4>
        <Badge className={`${getStatusColor()} text-xs`}>{status}</Badge>
      </div>
      <p className="text-xs text-slate-400">{description}</p>
    </div>
  )
}

interface ChatMessageProps {
  sender: string
  message: string
  time: string
  unread: boolean
}

function ChatMessage({ sender, message, time, unread }: ChatMessageProps) {
  return (
    <div className={`p-3 rounded-md ${unread ? 'bg-purple-500/10 border border-purple-500/20' : 'bg-slate-800/30'}`}>
      <div className="flex items-start justify-between mb-1">
        <span className="text-sm font-medium text-slate-200">{sender}</span>
        <span className="text-xs text-slate-500">{time}</span>
      </div>
      <p className="text-sm text-slate-300">{message}</p>
      {unread && <div className="mt-2 h-2 w-2 rounded-full bg-purple-500"></div>}
    </div>
  )
}

interface NotificationItemProps {
  title: string
  message: string
  time: string
  type: 'info' | 'warning' | 'success' | 'error'
}

function NotificationItem({ title, message, time, type }: NotificationItemProps) {
  const getTypeColor = () => {
    switch (type) {
      case 'info':
        return 'border-blue-500/30 bg-blue-500/10'
      case 'warning':
        return 'border-amber-500/30 bg-amber-500/10'
      case 'success':
        return 'border-green-500/30 bg-green-500/10'
      case 'error':
        return 'border-red-500/30 bg-red-500/10'
      default:
        return 'border-slate-500/30 bg-slate-500/10'
    }
  }

  return (
    <div className={`p-3 rounded-md border ${getTypeColor()}`}>
      <div className="flex items-start justify-between mb-1">
        <span className="text-sm font-medium text-slate-200">{title}</span>
        <span className="text-xs text-slate-500">{time}</span>
      </div>
      <p className="text-sm text-slate-300">{message}</p>
    </div>
  )
}

interface QuickActionButtonProps {
  title: string
  description: string
  icon: string
}

function QuickActionButton({ title, description, icon }: QuickActionButtonProps) {
  return (
    <button className="w-full p-3 rounded-md bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 transition-colors text-left">
      <div className="flex items-center justify-between mb-1">
        <span className="text-sm font-medium text-slate-200">{title}</span>
        <div className="h-6 w-6 rounded-md bg-purple-500/20 flex items-center justify-center">
          <FileText className="h-3 w-3 text-purple-500" />
        </div>
      </div>
      <p className="text-xs text-slate-400">{description}</p>
    </button>
  )
}

interface ContactCardProps {
  name: string
  role: string
  phone: string
  email: string
  emergency: boolean
}

function ContactCard({ name, role, phone, email, emergency }: ContactCardProps) {
  return (
    <div className={`p-4 rounded-md border ${emergency ? 'bg-red-500/10 border-red-500/30' : 'bg-slate-800/50 border-slate-700/50'}`}>
      <div className="flex items-start space-x-3">
        <Avatar className="h-10 w-10">
          <AvatarImage src="/placeholder.svg?height=40&width=40" alt={name} />
          <AvatarFallback className={`${emergency ? 'bg-red-700 text-white' : 'bg-slate-700 text-purple-500'}`}>
            {name.charAt(0)}
          </AvatarFallback>
        </Avatar>
        <div className="flex-1">
          <h4 className="text-sm font-medium text-slate-200">{name}</h4>
          <p className={`text-xs ${emergency ? 'text-red-400' : 'text-purple-400'}`}>{role}</p>
          <p className="text-xs text-slate-400 mt-1">{phone}</p>
          <p className="text-xs text-slate-400">{email}</p>
        </div>
      </div>
    </div>
  )
}

// =============================================================================
// BACKLINE & RENTALS COMPONENTS
// =============================================================================

interface BacklineRowProps {
  instrument: string
  category: string
  condition: string
  rentalRate: number
  status: string
}

function BacklineRow({ instrument, category, condition, rentalRate, status }: BacklineRowProps) {
  const getStatusBadge = () => {
    switch (status) {
      case "available":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Available</Badge>
      case "rented":
        return <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">Rented</Badge>
      case "maintenance":
        return <Badge className="bg-amber-500/20 text-amber-400 border-amber-500/30">Maintenance</Badge>
      case "damaged":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Damaged</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{status}</Badge>
    }
  }

  const getConditionBadge = () => {
    switch (condition) {
      case "excellent":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Excellent</Badge>
      case "good":
        return <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">Good</Badge>
      case "fair":
        return <Badge className="bg-amber-500/20 text-amber-400 border-amber-500/30">Fair</Badge>
      case "poor":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Poor</Badge>
      case "damaged":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Damaged</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{condition}</Badge>
    }
  }

  const getCategoryIcon = () => {
    switch (category.toLowerCase()) {
      case "guitar":
      case "electric":
      case "acoustic":
        return <Guitar className="h-4 w-4 text-purple-400" />
      case "drums":
      case "percussion":
        return <Drum className="h-4 w-4 text-purple-400" />
      case "piano":
      case "keyboard":
        return <Piano className="h-4 w-4 text-purple-400" />
      case "microphone":
      case "vocal":
        return <Mic className="h-4 w-4 text-purple-400" />
      default:
        return <Zap className="h-4 w-4 text-purple-400" />
    }
  }

  return (
    <tr className="hover:bg-slate-800/30">
      <td className="px-4 py-3">
        <div className="flex items-center">
          {getCategoryIcon()}
          <span className="ml-2 text-slate-300">{instrument}</span>
        </div>
      </td>
      <td className="px-4 py-3 text-slate-300 capitalize">{category}</td>
      <td className="px-4 py-3">{getConditionBadge()}</td>
      <td className="px-4 py-3 text-slate-300">${rentalRate}/day</td>
      <td className="px-4 py-3">{getStatusBadge()}</td>
      <td className="px-4 py-3">
        <div className="flex space-x-2">
          <Button size="sm" variant="ghost" className="h-6 w-6 p-0">
            <Edit className="h-3 w-3" />
          </Button>
          <Button size="sm" variant="ghost" className="h-6 w-6 p-0 text-red-400 hover:text-red-300">
            <Trash2 className="h-3 w-3" />
          </Button>
        </div>
      </td>
    </tr>
  )
}

interface RentalCardProps {
  instrument: string
  client: string
  startDate: string
  endDate: string
  dailyRate: number
  totalAmount: number
  status: 'active' | 'upcoming' | 'completed' | 'overdue'
}

function RentalCard({ instrument, client, startDate, endDate, dailyRate, totalAmount, status }: RentalCardProps) {
  const getStatusBadge = () => {
    switch (status) {
      case "active":
        return <Badge className="bg-green-500/20 text-green-400 border-green-500/30">Active</Badge>
      case "upcoming":
        return <Badge className="bg-blue-500/20 text-blue-400 border-blue-500/30">Upcoming</Badge>
      case "completed":
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">Completed</Badge>
      case "overdue":
        return <Badge className="bg-red-500/20 text-red-400 border-red-500/30">Overdue</Badge>
      default:
        return <Badge className="bg-slate-500/20 text-slate-400 border-slate-500/30">{status}</Badge>
    }
  }

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', { 
      month: 'short', 
      day: 'numeric',
      year: 'numeric'
    })
  }

  const daysRemaining = () => {
    const end = new Date(endDate)
    const today = new Date()
    const diffTime = end.getTime() - today.getTime()
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))
    return diffDays
  }

  return (
    <div className="p-4 rounded-lg border border-slate-700/50 bg-slate-800/30 hover:bg-slate-800/50 transition-colors">
      <div className="flex items-center justify-between mb-3">
        <div className="flex items-center">
          <Zap className="h-5 w-5 text-purple-500 mr-2" />
          <h4 className="font-medium text-slate-200">{instrument}</h4>
        </div>
        {getStatusBadge()}
      </div>
      
      <div className="space-y-2 text-sm">
        <p className="text-slate-400">
          <span className="text-slate-300 font-medium">Client:</span> {client}
        </p>
        <p className="text-slate-400">
          <span className="text-slate-300 font-medium">Period:</span> {formatDate(startDate)} - {formatDate(endDate)}
        </p>
        <p className="text-slate-400">
          <span className="text-slate-300 font-medium">Rate:</span> ${dailyRate}/day
        </p>
        <p className="text-slate-400">
          <span className="text-slate-300 font-medium">Total:</span> ${totalAmount}
        </p>
        {status === 'active' && (
          <p className="text-amber-400">
            <span className="font-medium">Due in:</span> {daysRemaining()} days
          </p>
        )}
      </div>
      
      <div className="flex space-x-2 mt-4">
        <Button size="sm" variant="outline" className="flex-1">
          <Edit className="h-3 w-3 mr-1" />
          Edit
        </Button>
        <Button size="sm" variant="outline" className="flex-1">
          <Calendar className="h-3 w-3 mr-1" />
          Extend
        </Button>
        <Button size="sm" className="flex-1 bg-green-600 hover:bg-green-700">
          <CheckCircle className="h-3 w-3 mr-1" />
          Return
        </Button>
      </div>
    </div>
  )
}
